<!ENTITY % TXT "#PCDATA">

<!-- CabeÃ§alho-->
<!ELEMENT guiao (cabecalho, historia)>

<!ELEMENT cabecalho (titulo, (autor | autores), data, sinopse?, personagens, aderecos)>
<!ELEMENT historia (temporada+ | parte+ | cena+) >

<!ELEMENT titulo (%TXT;)>
<!ELEMENT autores (autor)+>
<!ELEMENT autor (%TXT;)>

<!ELEMENT data ( ano , mes , dia )>
<!ELEMENT ano (%TXT;)>
<!ELEMENT mes (%TXT;)>
<!ELEMENT dia (%TXT;)>

<!ELEMENT sinopse (%TXT;)>

<!ELEMENT personagens (personagem)+>
<!ELEMENT personagem (%TXT;)>
<!ATTLIST personagem id ID #REQUIRED
                     descricao CDATA #REQUIRED>

<!ELEMENT nome (%TXT;)>
<!ELEMENT descricao (%TXT;)>

<!-- Hierarquia-->
<!ELEMENT temporada ((personagem | personagens)?, episodio+)>

<!ELEMENT episodio ((personagem | personagens)?, (parte+ | cena+))>

<!ELEMENT parte ((personagem | personagens)?, cena+)>

<!ELEMENT cena ( %TXT; | fala | refere | comentario | refAdereco)*>
<!ATTLIST cena contexto CDATA #REQUIRED>

<!ELEMENT fala (%TXT;)>
<!ATTLIST fala ref-personagem IDREF #REQUIRED>

<!ELEMENT comentario (%TXT;)>

<!ELEMENT refere EMPTY>
<!ATTLIST refere ref-personagem IDREF #REQUIRED>

<!ELEMENT aderecos (adereco)+>

<!ELEMENT adereco (%TXT;)>
<!ATTLIST adereco id ID #REQUIRED>

<!ELEMENT refAdereco EMPTY>
<!ATTLIST refAdereco ref-adereco IDREF #REQUIRED>
